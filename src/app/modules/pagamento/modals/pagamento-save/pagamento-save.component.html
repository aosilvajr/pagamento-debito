<div class="modal-header">
  <h4 class="modal-title">
    <i class="bi bi-coin"></i>
    Receber Pagamento
  </h4>

  <button
    type="button"
    class="btn-close"
    aria-label="Close"
    (click)="activeModal.close()"
    ngbAutofocus></button>
</div>

<div class="modal-body">
  <form [formGroup]="form">
    <div class="row">
      <div class="col-12 col-lg-4">
        <label class="form-label">
          CPF/CNPJ
          <span class="text-danger">*</span>
        </label>

        <div class="input-group has-validation">
          <input
            class="form-control"
            [formControlName]="'cpfCnpj'"
            [class.is-invalid]="
              controls.cpfCnpj.touched && controls.cpfCnpj.invalid
            " />

          <div class="invalid-feedback">
            {{ controls.cpfCnpj | errorMessage }}
          </div>
        </div>
      </div>

      <div class="col-12 col-lg-4">
        <label class="form-label">
          Médoto de Pagamento
          <span class="text-danger">*</span>
        </label>

        <div class="input-group has-validation">
          <select
            class="form-select"
            [formControlName]="'metodoPagamento'"
            [class.is-invalid]="
              controls.metodoPagamento.touched &&
              controls.metodoPagamento.invalid
            ">
            <option
              *ngFor="let option of metodoPagamentoOptions"
              [value]="option.value">
              {{ option.label }}
            </option>
          </select>

          <div class="invalid-feedback">
            {{ controls.metodoPagamento | errorMessage }}
          </div>
        </div>
      </div>

      <div class="col-12 col-lg-4">
        <label class="form-label">
          Número do Cartão
          <span class="text-danger">*</span>
        </label>

        <div class="input-group has-validation">
          <input
            class="form-control"
            placeholder="XXXX-XXXX-XXXX-XXXX"
            [formControlName]="'numeroCartao'"
            [class.is-invalid]="
              controls.numeroCartao.touched && controls.numeroCartao.invalid
            " />

          <div class="invalid-feedback">
            {{ controls.numeroCartao | errorMessage }}
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12 col-lg-4">
        <label class="form-label">
          Valor do Pagamento
          <span class="text-danger">*</span>
        </label>

        <div class="input-group has-validation">
          <input
            class="form-control"
            [formControlName]="'valorPagamento'"
            [class.is-invalid]="
              controls.valorPagamento.touched && controls.valorPagamento.invalid
            " />

          <div class="invalid-feedback">
            {{ controls.valorPagamento | errorMessage }}
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

<div class="modal-footer">
  <button
    type="button"
    class="btn btn-lg btn-outline-danger"
    (click)="activeModal.close()">
    Fechar
  </button>

  <button
    type="button"
    class="btn btn-lg btn-primary"
    [disabled]="form.invalid"
    (click)="receberPagamento()">
    Enviar
  </button>
</div>
